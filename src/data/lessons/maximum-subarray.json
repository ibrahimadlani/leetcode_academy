{
  "id": "maximum-subarray",
  "title": "Maximum Subarray",
  "difficulty": "Medium",
  "category": "Greedy",
  "number": 53,
  "description": "Given an integer array nums, find the subarray with the largest sum, and return its sum.",
  "steps": [
    {
      "id": 1,
      "explanation": "We have array [-2, 1, -3, 4, -1, 2, 1, -5, 4]. We need to find the contiguous subarray with the maximum sum. We'll use Kadane's algorithm.",
      "visualState": {
        "array": {
          "values": [-2, 1, -3, 4, -1, 2, 1, -5, 4],
          "highlight": [],
          "pointers": {}
        }
      },
      "tip": "Key insight: If current_sum becomes negative, it's better to start fresh from the next element."
    },
    {
      "id": 2,
      "explanation": "Initialize: max_sum = nums[0] = -2, current_sum = nums[0] = -2. Start from index 1.",
      "visualState": {
        "array": {
          "values": [-2, 1, -3, 4, -1, 2, 1, -5, 4],
          "highlight": [0],
          "pointers": {},
          "states": { "0": "current" }
        }
      },
      "code": "max_sum = nums[0]     # -2\ncurrent_sum = nums[0] # -2"
    },
    {
      "id": 3,
      "explanation": "Index 1: num = 1. current_sum = max(1, -2 + 1) = max(1, -1) = 1. Starting fresh is better! max_sum = max(-2, 1) = 1.",
      "visualState": {
        "array": {
          "values": [-2, 1, -3, 4, -1, 2, 1, -5, 4],
          "highlight": [1],
          "pointers": { "i": 1 },
          "states": { "1": "success" }
        }
      },
      "code": "current_sum = max(nums[i], current_sum + nums[i])\ncurrent_sum = max(1, -2 + 1) = 1\nmax_sum = max(max_sum, current_sum) = 1"
    },
    {
      "id": 4,
      "explanation": "Index 2: num = -3. current_sum = max(-3, 1 + (-3)) = max(-3, -2) = -2. Keep the previous sum. max_sum stays 1.",
      "visualState": {
        "array": {
          "values": [-2, 1, -3, 4, -1, 2, 1, -5, 4],
          "highlight": [1, 2],
          "pointers": { "i": 2 },
          "states": { "1": "success", "2": "highlight" }
        }
      },
      "code": "current_sum = max(-3, 1 + (-3)) = -2\nmax_sum = max(1, -2) = 1"
    },
    {
      "id": 5,
      "explanation": "Index 3: num = 4. current_sum = max(4, -2 + 4) = max(4, 2) = 4. Start fresh with 4! max_sum = max(1, 4) = 4.",
      "visualState": {
        "array": {
          "values": [-2, 1, -3, 4, -1, 2, 1, -5, 4],
          "highlight": [3],
          "pointers": { "i": 3 },
          "states": { "3": "success" }
        }
      },
      "code": "current_sum = max(4, -2 + 4) = 4\nmax_sum = max(1, 4) = 4"
    },
    {
      "id": 6,
      "explanation": "Index 4: num = -1. current_sum = max(-1, 4 + (-1)) = max(-1, 3) = 3. Keep extending! max_sum = max(4, 3) = 4.",
      "visualState": {
        "array": {
          "values": [-2, 1, -3, 4, -1, 2, 1, -5, 4],
          "highlight": [3, 4],
          "pointers": { "i": 4 },
          "states": { "3": "success", "4": "highlight" }
        }
      },
      "code": "current_sum = max(-1, 4 + (-1)) = 3\nmax_sum = max(4, 3) = 4"
    },
    {
      "id": 7,
      "explanation": "Index 5: num = 2. current_sum = max(2, 3 + 2) = 5. Keep extending! max_sum = max(4, 5) = 5.",
      "visualState": {
        "array": {
          "values": [-2, 1, -3, 4, -1, 2, 1, -5, 4],
          "highlight": [3, 4, 5],
          "pointers": { "i": 5 },
          "states": { "3": "success", "4": "success", "5": "success" }
        }
      },
      "code": "current_sum = max(2, 3 + 2) = 5\nmax_sum = max(4, 5) = 5"
    },
    {
      "id": 8,
      "explanation": "Index 6: num = 1. current_sum = max(1, 5 + 1) = 6. Keep extending! max_sum = max(5, 6) = 6.",
      "visualState": {
        "array": {
          "values": [-2, 1, -3, 4, -1, 2, 1, -5, 4],
          "highlight": [3, 4, 5, 6],
          "pointers": { "i": 6 },
          "states": { "3": "success", "4": "success", "5": "success", "6": "success" }
        }
      },
      "code": "current_sum = max(1, 5 + 1) = 6\nmax_sum = max(5, 6) = 6"
    },
    {
      "id": 9,
      "explanation": "Index 7: num = -5. current_sum = max(-5, 6 + (-5)) = 1. Keep extending. max_sum stays 6.",
      "visualState": {
        "array": {
          "values": [-2, 1, -3, 4, -1, 2, 1, -5, 4],
          "highlight": [3, 4, 5, 6, 7],
          "pointers": { "i": 7 },
          "states": { "3": "success", "4": "success", "5": "success", "6": "success", "7": "highlight" }
        }
      },
      "code": "current_sum = max(-5, 6 + (-5)) = 1\nmax_sum = max(6, 1) = 6"
    },
    {
      "id": 10,
      "explanation": "Index 8: num = 4. current_sum = max(4, 1 + 4) = 5. max_sum stays 6. Done!",
      "visualState": {
        "array": {
          "values": [-2, 1, -3, 4, -1, 2, 1, -5, 4],
          "highlight": [3, 4, 5, 6],
          "pointers": {},
          "states": { "3": "success", "4": "success", "5": "success", "6": "success" }
        }
      },
      "code": "current_sum = max(4, 1 + 4) = 5\nmax_sum = max(6, 5) = 6"
    },
    {
      "id": 11,
      "explanation": "The maximum subarray is [4, -1, 2, 1] with sum = 6. Kadane's algorithm found it in O(n) time!",
      "visualState": {
        "array": {
          "values": [-2, 1, -3, 4, -1, 2, 1, -5, 4],
          "highlight": [3, 4, 5, 6],
          "pointers": {},
          "states": { "3": "success", "4": "success", "5": "success", "6": "success" }
        }
      },
      "code": "return max_sum  # 6",
      "tip": "Time complexity: O(n) - single pass. Space complexity: O(1) - only two variables."
    }
  ]
}
